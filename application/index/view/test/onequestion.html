<div calss="my-onequestion">
<form class="layui-form" action="addtquestion" method="POST">
  <div class="layui-form-item">
    <label class="layui-form-label">题目类型</label>
    <div class="layui-input-block my-cate">
      <input type="radio" name="type" value="3" title="选择题" checked="">
      <input type="radio" name="type" value="1" title="填空题">
      <input type="radio" name="type" value="1" title="问答题">
      <input type="radio" name="type" value="2" title="判断题">
    </div>
  </div>
  <div class="my-completion">
    <div class="layui-form-item layui-form-text">
      <label class="layui-form-label">题目描述</label>
      <div class="layui-input-block">
        <textarea placeholder="请输入题目内容"  lay-verify="content"  class="layui-textarea"></textarea>
      </div>
    </div>
    <div class="layui-form-item">
      <label class="layui-form-label">正确答案</label>
      <div class="layui-input-block">
        <input type="text" name="true_answer" lay-verify="choise" autocomplete="off" placeholder="请输入正确答案" class="layui-input">
      </div>
    </div>
  </div>
  <div class="my-choice">
    <div class="layui-form-item layui-form-text">
      <label class="layui-form-label">题目描述</label>
      <div class="layui-input-block">
        <textarea placeholder="请输入题目内容，默认A选项为正确选项，学生端获取到题目为乱序。" lay-verify="content"  name="question_content" class="layui-textarea"></textarea>
      </div>
    </div>
    <div class="layui-form-item">
      <label class="layui-form-label">正确选项</label>
      <div class="layui-input-block">
        <input type="text" name="true_answer" lay-verify="choise" autocomplete="off" placeholder="请在该选项输入正确答案" class="layui-input">
      </div>
    </div>
    <div class="my-option">
      <div class="layui-form-item">
        <label class="layui-form-label">其他选项</label>
        <div class="layui-input-block">
          <input type="text" name="false_answer" lay-verify="choise" autocomplete="off" placeholder="请输入错误选项" class="layui-input">
        </div>
      </div>
    </div>
    <div class="layui-form-item">
      <div class="layui-input-block">
        <a class="layui-btn layui-btn-primary my-new-option">添加新选项</a>
        <a class="layui-btn layui-btn-primary my-delete-option">删除最后一个选项</a>
      </div>
    </div>
  </div>
  <div class="my-checking">
    <div class="layui-form-item layui-form-text">
      <label class="layui-form-label">题目描述</label>
      <div class="layui-input-block">
        <textarea placeholder="请输入题目内容" lay-verify="content"  class="layui-textarea"></textarea>
      </div>
    </div>
    <div class="layui-form-item" pane="">
      <label class="layui-form-label">答案</label>
      <div class="layui-input-block">
        <input type="radio" name="true_answer" value="1" title="True" checked="">
        <input type="radio" name="false_answer" value="0" title="False">

      </div>
    </div>
  </div>

  <div class="layui-form-item">
    <div class="layui-input-block">
      <button class="layui-btn" lay-submit="" lay-filter="demo1">添加题目</button>
    </div>
  </div>
  <script src="/day-day-up/vendor/layui/src/layui.js"></script>
 
  <script>
    
    $(function () {
      $(".my-new-option").click(function () {
        var html = $(".my-option").first().html();
        $(this).parents(".layui-form-item").before(html);
      })
      $(".my-delete-option").click(function () {
        var choise=$(this).parents(".layui-form-item").prev();
        if(!choise.hasClass("my-option"))
        {
          choise.remove();
        }
       
      })
    })
    window.onload = function () {
      choise();
      $(".my-cate .layui-unselect").click(function () {
        choise();
      })

      function choise() {
        $(".my-cate .layui-unselect").each(function () {
          if ($(this).hasClass("layui-form-radioed")) {
            var type = $(this).prev().val();
            if (type == 1) {
              $(".my-checking").hide();
              $(".my-choice").hide();
              $(".my-completion").show();
            } else if (type == 2) {
              $(".my-checking").show();
              $(".my-choice").hide();
              $(".my-completion").hide();
            } else {
              $(".my-checking").hide();
              $(".my-choice").show();
              $(".my-completion").hide();
            }
          }
        });
      }
    }
  </script>
 <script>
    layui.use(['form', 'layedit', 'laydate'], function () {
      var form = layui.form,
        layer = layui.layer,
        layedit = layui.layedit,
        laydate = layui.laydate;

      //日期
      laydate.render({
        elem: '#date'
      });
      laydate.render({
        elem: '#date1'
      });

      //创建一个编辑器
      var editIndex = layedit.build('LAY_demo_editor');

      //自定义验证规则
      form.verify({

        content: function (value) {
          layedit.sync(editIndex);
        }
      });

      //监听指定开关
      form.on('switch(switchTest)', function (data) {
        layer.msg('开关checked：' + (this.checked ? 'true' : 'false'), {
          offset: '6px'
        });
        layer.tips('温馨提示：请注意开关状态的文字可以随意定义，而不仅仅是ON|OFF', data.othis)
      });

      //监听提交
      // form.on('submit(demo1)', function (data) {
      //   layer.alert(JSON.stringify(data.field), {
      //     title: '最终的提交信息'
      //   })
      //   return false;
      // });

      // //表单初始赋值
      // form.val('example', {
      //   "username": "贤心" // "name": "value"
      //   , "password": "123456"
      //   , "interest": 1
      //   , "like[write]": true //复选框选中状态
      //   , "close": true //开关状态
      //   , "sex": "女"
      //   , "desc": "我爱 layui"
      // })
    });
  </script>
</form>
</div>